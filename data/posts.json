{
  "posts": [
    {
      "title": "Transformeræ¶æ„ï¼ˆä¸ªäººç†è§£ç‰ˆï¼‰",
      "content": "## Transformer æ¶æ„æ ¸å¿ƒæ€æƒ³è§£æ\n\n### 1. æ ¸å¿ƒç›®çš„ï¼šçªç ´ä¼ ç»Ÿåºåˆ—æ¨¡å‹çš„ç“¶é¢ˆ\n\nä¼ ç»Ÿåºåˆ—å¤„ç†æ¶æ„ï¼ˆå¦‚RNNã€LSTMï¼‰ä¸»è¦é¢ä¸´ä¸¤å¤§éš¾é¢˜ï¼š\n* **é•¿è·ç¦»ä¾èµ–ä¸è®°å¿†ä¸¢å¤±**ï¼šå½“åºåˆ—è¿‡é•¿æ—¶ï¼Œæ¨¡å‹å¾ˆéš¾æ•æ‰åˆ°å¼€å¤´çš„å…³é”®ä¿¡æ¯ã€‚è™½ç„¶æ—©æœŸçš„æ³¨æ„åŠ›æœºåˆ¶å¯¹æ­¤æœ‰æ‰€ç¼“è§£ï¼Œä½†å¹¶æœªæ ¹é™¤é—®é¢˜ã€‚\n* **ä¸²è¡ŒåŒ–è®¡ç®—æ•ˆç‡ä½ä¸‹**ï¼šRNNå¿…é¡»æŒ‰é¡ºåºä¸€ä¸ªæ¥ä¸€ä¸ªåœ°å¤„ç†Tokenï¼Œæ— æ³•å……åˆ†åˆ©ç”¨ç°ä»£GPUå¼ºå¤§çš„å¹¶è¡Œè®¡ç®—èƒ½åŠ›ï¼Œå¯¼è‡´è®­ç»ƒå’Œæ¨ç†é€Ÿåº¦å—é™ã€‚\n\nTransformer æ¶æ„çš„è®¾è®¡åˆè¡·ï¼Œå°±æ˜¯ä¸ºäº†å½»åº•è§£å†³è¿™ä¸¤ä¸ªé—®é¢˜ã€‚\n\n### 2. æ ¸å¿ƒåˆ›æ–°ï¼šå®Œå…¨æŠ›å¼ƒå¾ªç¯ï¼Œæ‹¥æŠ±å¹¶è¡ŒåŒ–\n\nTransformer çš„é©å‘½æ€§ä¹‹å¤„åœ¨äºï¼Œå®ƒ**å®Œå…¨æ‘’å¼ƒäº†RNNçš„å¾ªç¯ç»“æ„**ï¼Œæ•´ä¸ªæ¨¡å‹å®Œå…¨åŸºäº**è‡ªæ³¨æ„åŠ›æœºåˆ¶ (Self-Attention)** æ„å»ºã€‚è¿™ä½¿å¾—æ¨¡å‹åœ¨å¤„ç†åºåˆ—æ—¶ï¼š\n* **è·ç¦»å½’é›¶**ï¼šä»»ä½•ä¸¤ä¸ªä½ç½®çš„Tokenä¹‹é—´çš„ä¾èµ–å…³ç³»éƒ½å¯ä»¥ç›´æ¥è®¡ç®—ï¼Œä¸å†å—å®ƒä»¬ä¹‹é—´è·ç¦»çš„å½±å“ã€‚\n* **å®ç°å¹¶è¡ŒåŒ–**ï¼šåºåˆ—ä¸­æ‰€æœ‰Tokençš„ä¸Šä¸‹æ–‡è¡¨ç¤ºå¯ä»¥åŒæ—¶è¿›è¡Œè®¡ç®—ï¼Œæå¤§åœ°æå‡äº†è®¡ç®—æ•ˆç‡ã€‚\n\n### 3. ä¸¤å¤§æ ¸å¿ƒæœºåˆ¶\n\n#### 3.1 è‡ªæ³¨æ„åŠ›æœºåˆ¶ (Self-Attention)\n\n> **æ ¸å¿ƒæ€æƒ³**ï¼šåœ¨å¯¹ä¸€ä¸ªè¯ï¼ˆTokenï¼‰è¿›è¡Œç¼–ç æ—¶ï¼Œè®©å®ƒèƒ½å¤ŸåŒæ—¶â€œçœ‹åˆ°â€è¾“å…¥åºåˆ—ä¸­çš„æ‰€æœ‰å…¶ä»–è¯ï¼Œå¹¶åŠ¨æ€è®¡ç®—å‡ºæ¯ä¸ªè¯å¯¹å½“å‰è¯çš„é‡è¦æ€§ï¼Œç„¶åå°†è¿™äº›ä¿¡æ¯åŠ æƒèåˆåˆ°å½“å‰è¯çš„å‘é‡è¡¨ç¤ºä¸­ã€‚\n\n* **å¹¶è¡Œå¤„ç†**ï¼šåºåˆ—ä¸­çš„æ¯ä¸€ä¸ªè¯éƒ½å¯ä»¥**åœ¨åŒä¸€æ—¶åˆ»**æ‰§è¡Œè¿™ä¸ªâ€œç¯é¡¾å››å‘¨ã€èåˆä¿¡æ¯â€çš„æ“ä½œï¼Œè¿™æ˜¯å®ç°å¹¶è¡ŒåŒ–çš„å…³é”®ã€‚\n* **ä½ç½®ç¼–ç  (Positional Encoding)**ï¼šç”±äºå¹¶è¡ŒåŒ–ä¸¢å¤±äº†åºåˆ—çš„é¡ºåºä¿¡æ¯ï¼ŒTransformeré€šè¿‡ä¸ºæ¯ä¸ªè¾“å…¥Tokençš„Embeddingæ·»åŠ ä¸€ä¸ª**ä½ç½®å‘é‡**æ¥å‘ŠçŸ¥æ¨¡å‹æ¯ä¸ªè¯çš„ç»å¯¹æˆ–ç›¸å¯¹ä½ç½®ã€‚\n\nç»è¿‡è‡ªæ³¨æ„åŠ›å¤„ç†åï¼Œæ¯ä¸ªè¯çš„å‘é‡éƒ½ä»ä¸€ä¸ªç‹¬ç«‹çš„è¯­ä¹‰è¡¨ç¤ºï¼Œè½¬å˜ä¸ºä¸€ä¸ª**å¯Œå«å…¨å±€ä¸Šä¸‹æ–‡ä¿¡æ¯çš„åŠ¨æ€è¡¨ç¤º**ã€‚\n\n#### 3.2 å¤šå¤´æ³¨æ„åŠ›æœºåˆ¶ (Multi-Head Attention)\n\n> **æ ¸å¿ƒæ€æƒ³**ï¼šä¸å…¶åªç”¨ä¸€å¥—æ³¨æ„åŠ›æœºåˆ¶å»æ•æ‰ä¿¡æ¯ï¼Œä¸å¦‚â€œé›†æ€å¹¿ç›Šâ€ã€‚å¤šå¤´æ³¨æ„åŠ›æœºåˆ¶å°±æ˜¯å°†è‡ªæ³¨æ„åŠ›è¿‡ç¨‹å¤åˆ¶å¤šæ¬¡ï¼ˆä¾‹å¦‚8æ¬¡ï¼‰ï¼Œè®©æ¯ä¸ªâ€œå¤´â€ç‹¬ç«‹åœ°å»å­¦ä¹ è¾“å…¥ä¿¡æ¯ä¸­ä¸åŒå­ç©ºé—´çš„è¡¨ç¤ºã€‚\n\n* **å¤šç»´åº¦çš„ç†è§£**ï¼šä¸åŒçš„â€œå¤´â€åœ¨è®­ç»ƒåä¼šè‡ªå‘åœ°å­¦ä¼šå…³æ³¨ä¸åŒç±»å‹çš„å…³è”æ€§ã€‚ä¾‹å¦‚ï¼š\n    * **å¤´1** å¯èƒ½ä¸“æ³¨äºè¯­æ³•ç»“æ„å…³ç³»ã€‚\n    * **å¤´2** å¯èƒ½ä¸“æ³¨äºæŒ‡ä»£å…³ç³»ï¼ˆæ¯”å¦‚ `it` æŒ‡å‘äº†å“ªä¸ªåè¯ï¼‰ã€‚\n    * **å¤´3** å¯èƒ½ä¸“æ³¨äºå› æœæˆ–å¯¹æ¯”å…³ç³»ã€‚\n* **æ›´å…¨é¢çš„ä¿¡æ¯èåˆ**ï¼šå¤šä¸ªå¤´æ•è·åˆ°çš„ä¿¡æ¯è¢«æ‹¼æ¥å¹¶èåˆï¼Œä½¿å¾—æœ€ç»ˆè¾“å‡ºçš„å‘é‡è¡¨ç¤ºæ¯”å•å¤´æ³¨æ„åŠ›æ›´åŠ ä¸°å¯Œå’Œå…¨é¢ã€‚\n\n### 4. å…³é”®å®ç°ï¼š`Q`, `K`, `V` æ¨¡å‹\n\nè‡ªæ³¨æ„åŠ›å’Œå¤šå¤´æ³¨æ„åŠ›çš„æ ¸å¿ƒè®¡ç®—é€»è¾‘éƒ½åŸºäº **æŸ¥è¯¢(Q)**ã€**é”®(K)**ã€**å€¼(V)** è¿™ä¸‰ä¸ªå‘é‡ã€‚\n\n1.  **ç”Ÿæˆ Q, K, V**ï¼šå¯¹äºè¾“å…¥åºåˆ—ä¸­çš„æ¯ä¸€ä¸ªToken Embeddingï¼Œéƒ½é€šè¿‡ä¹˜ä»¥ä¸‰ä¸ªç‹¬ç«‹çš„æƒé‡çŸ©é˜µï¼Œç”Ÿæˆå…¶å¯¹åº”çš„`Q`ã€`K`ã€`V`å‘é‡ã€‚\n    * `Q (Query)`ï¼šä»£è¡¨å½“å‰Tokenä¸ºäº†ç†è§£ä¸Šä¸‹æ–‡è€Œå‘å‡ºçš„â€œæŸ¥è¯¢â€ã€‚\n    * `K (Key)`ï¼šä»£è¡¨åºåˆ—ä¸­æ¯ä¸ªTokenç­‰å¾…è¢«æŸ¥è¯¢çš„â€œé”®â€ï¼Œç”¨äºå’Œ`Q`è¿›è¡ŒåŒ¹é…ã€‚\n    * `V (Value)`ï¼šä»£è¡¨æ¯ä¸ªTokenå®é™…æºå¸¦çš„â€œå€¼â€æˆ–ä¿¡æ¯ã€‚\n\n2.  **è®¡ç®—æ³¨æ„åŠ›åˆ†æ•°**ï¼šæ‹¿å½“å‰Tokençš„`Q`å‘é‡ï¼Œä¸åºåˆ—ä¸­**æ‰€æœ‰**Tokençš„`K`å‘é‡è¿›è¡Œç‚¹ç§¯ï¼ˆ`QÂ·K`ï¼‰ã€‚è¿™ä¸ªåˆ†æ•°è¡¡é‡äº†â€œæŸ¥è¯¢â€ä¸å„ä¸ªâ€œé”®â€çš„åŒ¹é…åº¦ï¼Œå³**ç›¸å…³æ€§**ã€‚\n\n3.  **å½’ä¸€åŒ–ä¸æƒé‡è®¡ç®—**ï¼š\n    * å°†åˆ†æ•°é™¤ä»¥`K`å‘é‡ç»´åº¦çš„å¹³æ–¹æ ¹ï¼ˆ`sqrt(dk)`ï¼‰è¿›è¡Œç¼©æ”¾ï¼Œä»¥ä¿è¯æ¢¯åº¦ç¨³å®šã€‚\n    * å°†ç¼©æ”¾åçš„åˆ†æ•°ä¼ å…¥`Softmax`å‡½æ•°ï¼Œå°†å…¶è½¬æ¢ä¸ºä¸€ç»„æ€»å’Œä¸º1çš„æ¦‚ç‡åˆ†å¸ƒï¼Œå³**æ³¨æ„åŠ›æƒé‡**ã€‚\n\n4.  **åŠ æƒæ±‚å’Œ**ï¼šå°†å¾—åˆ°çš„æ³¨æ„åŠ›æƒé‡ä¸åºåˆ—ä¸­**æ‰€æœ‰**Tokençš„`V`å‘é‡ç›¸ä¹˜å†æ±‚å’Œã€‚ç»“æœå°±æ˜¯å½“å‰Tokenèåˆäº†å…¨å±€ä¸Šä¸‹æ–‡ä¿¡æ¯åçš„æ–°è¡¨ç¤ºã€‚\n\n> åœ¨**å¤šå¤´æ³¨æ„åŠ›**ä¸­ï¼Œç¬¬1æ­¥ç”Ÿæˆçš„ä¸å†æ˜¯ä¸€ç»„å¤§çš„`Q,K,V`ï¼Œè€Œæ˜¯é€šè¿‡ä¸åŒçš„æƒé‡çŸ©é˜µï¼Œç›´æ¥ä¸ºæ¯ä¸ªâ€œå¤´â€ç”Ÿæˆä¸€ç»„å°çš„`q,k,v`ã€‚æ¯ä¸ªå¤´ç‹¬ç«‹å®Œæˆç¬¬2ã€3ã€4æ­¥ï¼Œæœ€åå°†æ‰€æœ‰å¤´çš„è¾“å‡ºæ‹¼æ¥å¹¶èåˆã€‚\n\n### 5. å…³é”®ç»„ä»¶çš„ååŒï¼šå±‚ç»“æ„ä¸­çš„æ®‹å·®è¿æ¥ä¸å½’ä¸€åŒ–\n\næ‚¨çš„æ€»ç»“å¾ˆåˆ°ä½ï¼Œæ®‹å·®è¿æ¥å’Œå½’ä¸€åŒ–æ˜¯ä¿è¯è¿™ä¸ªæ·±åº¦ç½‘ç»œèƒ½å¤ŸæˆåŠŸè®­ç»ƒçš„å…³é”®ã€‚åœ¨Transformerçš„æ¯ä¸ªç¼–ç å™¨ï¼ˆEncoderï¼‰å’Œè§£ç å™¨ï¼ˆDecoderï¼‰å±‚ä¸­ï¼Œå®ƒä»¬ä»¥ä¸€ç§å›ºå®šçš„æ¨¡å¼ååŒå·¥ä½œã€‚\n\nä¸€ä¸ªæ ‡å‡†çš„ **Encoder å±‚** åŒ…å«ä¸¤ä¸ªå­å±‚ï¼Œå…¶æ•°æ®æµå¦‚ä¸‹ï¼š\n\n1.  **ç¬¬ä¸€ä¸ªå­å±‚ï¼ˆå¤šå¤´æ³¨æ„åŠ›å±‚ï¼‰**:\n    * è¾“å…¥æ•°æ®é¦–å…ˆè¿›å…¥**å¤šå¤´æ³¨æ„åŠ›æœºåˆ¶**è¿›è¡Œè®¡ç®—ã€‚\n    * è®¡ç®—ç»“æœä¼šä¸è¯¥å±‚çš„**åŸå§‹è¾“å…¥**è¿›è¡Œä¸€æ¬¡**æ®‹å·®è¿æ¥ (Residual Connection)**ï¼Œå³ `X + MultiHeadAttention(X)`ã€‚\n        * **ä½œç”¨**ï¼šç›´æ¥å°†åŸå§‹è¾“å…¥ä¿¡æ¯ä¼ é€’åˆ°ä¸‹ä¸€å±‚ï¼Œæœ‰æ•ˆè§£å†³äº†æ·±åº¦ç½‘ç»œä¸­çš„æ¢¯åº¦æ¶ˆå¤±å’Œç½‘ç»œé€€åŒ–é—®é¢˜ï¼Œä¿è¯äº†åŸå§‹ä¿¡æ¯çš„æ— æŸæµåŠ¨ã€‚\n    * æ®‹å·®è¿æ¥çš„ç»“æœå†ç»è¿‡ä¸€æ¬¡**å±‚å½’ä¸€åŒ– (Layer Normalization)**ã€‚\n        * **ä½œç”¨**ï¼šå°†æ¯ä¸€å±‚çš„æ•°æ®åˆ†å¸ƒéƒ½â€œæ‹‰å›â€åˆ°ä¸€ä¸ªæ ‡å‡†ã€ç¨³å®šçš„çŠ¶æ€ï¼Œä¿è¯æ•°æ®å°ºåº¦çš„ä¸€è‡´æ€§ï¼Œä»è€ŒåŠ é€Ÿè®­ç»ƒæ”¶æ•›å¹¶æé«˜æ¨¡å‹çš„ç¨³å®šæ€§ã€‚\n\n2.  **ç¬¬äºŒä¸ªå­å±‚ï¼ˆå‰é¦ˆç¥ç»ç½‘ç»œå±‚ï¼‰**:\n    * ç»è¿‡ç¬¬ä¸€å­å±‚å½’ä¸€åŒ–åçš„è¾“å‡ºï¼Œä¼šè¿›å…¥ä¸€ä¸ª**å‰é¦ˆç¥ç»ç½‘ç»œ (Feed-Forward Network, FFN)** è¿›è¡Œéçº¿æ€§å˜æ¢ã€‚\n    * FFNçš„è¾“å‡ºåŒæ ·ä¼šä¸**è¿›å…¥FFNä¹‹å‰çš„è¾“å…¥**è¿›è¡Œä¸€æ¬¡**æ®‹å·®è¿æ¥**ã€‚\n    * æœ€åçš„ç»“æœå†ç»è¿‡ä¸€æ¬¡**å±‚å½’ä¸€åŒ– (Layer Normalization)**ã€‚\n\nè¿™ä¸ªåŒ…å« `å¤šå¤´æ³¨æ„åŠ› -> Add & Norm -> FFN -> Add & Norm` çš„å®Œæ•´ç»“æ„ï¼Œå°±æ˜¯æ„æˆTransformerçš„**æ ¸å¿ƒç§¯æœ¨å—**ã€‚ä¸€ä¸ªå®Œæ•´çš„Transformer Encoderå°±æ˜¯å°†è¿™ä¸ªç§¯æœ¨å—å †å Næ¬¡ï¼ˆä¾‹å¦‚6æ¬¡ï¼‰è€Œæˆã€‚",
      "category": "AI",
      "tags": [
        "Transformer",
        "æ·±åº¦å­¦ä¹ ",
        "è‡ªæ³¨æ„åŠ›"
      ],
      "id": "8j9gzwj7bqmf5jwftg",
      "createdAt": "2025-09-04T15:18:22.228Z",
      "updatedAt": "2025-09-04T15:20:05.643Z",
      "updates": []
    }
  ],
  "categories": [
    {
      "id": "ai",
      "name": "AI",
      "description": "äººå·¥æ™ºèƒ½ç›¸å…³çŸ¥è¯†å’ŒæŠ€æœ¯",
      "icon": "ğŸ¤–",
      "color": "primary",
      "count": 1
    },
    {
      "id": "java",
      "name": "Java",
      "description": "Javaç¼–ç¨‹è¯­è¨€å’Œç›¸å…³æŠ€æœ¯",
      "icon": "â˜•",
      "color": "warm",
      "count": 0
    },
    {
      "id": "python",
      "name": "Python",
      "description": "Pythonç¼–ç¨‹è¯­è¨€å’Œç›¸å…³æŠ€æœ¯",
      "icon": "ğŸ",
      "color": "dark",
      "count": 0
    }
  ]
}